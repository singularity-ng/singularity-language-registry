[registries]
# GitHub Packages - Private registry using GitHub Enterprise
# Note: Use 'cargo login --registry github' to set token
github = { index = "sparse+https://github.com/Singularity-ng/_cargo-index/" }

# Cloudsmith - Enterprise private registry (if you have it)
# cloudsmith = { index = "https://dl.cloudsmith.io/basic/your-org/cargo/cargo/index.git" }

# Artifactory - Common in enterprises
# artifactory = { index = "https://artifactory.company.com/artifactory/api/cargo/cargo-local" }

# Self-hosted Kellnr
# kellnr = { index = "sparse+https://kellnr.company.com/api/v1/crates/" }

[registry]
# Default registry (can override to use private)
default = "crates-io"  # Change to "github" for private-by-default

[net]
git-fetch-with-cli = true  # Use git CLI for auth (better for enterprise)

[http]
# For self-signed certificates in enterprise
# cainfo = "/path/to/enterprise-ca-bundle.crt"

# Optional: Mirror configuration for faster downloads
# [source.crates-io]
# replace-with = "crates-io-mirror"

# [source.crates-io-mirror]
# registry = "sparse+https://index.crates.io/"

[build]
# Incremental compilation for local dev
incremental = true

# Enterprise-specific build settings
[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=lld"]

[profile.release]
lto = true
codegen-units = 1
opt-level = 3