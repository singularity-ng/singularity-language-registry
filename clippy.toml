# ═══════════════════════════════════════════════════════════════════════════
# ENTERPRISE-GRADE CLIPPY CONFIGURATION (Ericsson/Safety-Critical Level)
# ═══════════════════════════════════════════════════════════════════════════
# Zero tolerance thresholds for maximum code quality
# Suitable for: Telecom, embedded systems, safety-critical applications
# ═══════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════
# COMPLEXITY THRESHOLDS (Extremely Strict)
# ═══════════════════════════════════════════════════════════════════════════

# Cognitive complexity threshold - force simple, maintainable functions
# Industry: 15-20 | Enterprise: 10 | Safety-critical: 8
cognitive-complexity-threshold = 8

# Maximum function lines - enforce modular design
# Industry: 100 | Enterprise: 75 | Safety-critical: 50
too-many-lines-threshold = 50

# Maximum function arguments - reduce coupling
# Industry: 5 | Enterprise: 4 | Safety-critical: 3
too-many-arguments-threshold = 3

# Maximum bool parameters in a function - avoid boolean blindness
# Industry: 3 | Enterprise: 2 | Safety-critical: 1
max-fn-params-bools = 1

# Maximum struct bools - use enums for clarity
# Industry: 2 | Enterprise: 1 | Safety-critical: 1
max-struct-bools = 1

# Maximum trait bounds - keep types simple
# Industry: 3 | Enterprise: 2 | Safety-critical: 2
max-trait-bounds = 2

# Type complexity threshold - avoid complex nested types
# Industry: 250 | Enterprise: 200 | Safety-critical: 150
type-complexity-threshold = 150

# ═══════════════════════════════════════════════════════════════════════════
# NAMING AND STYLE (Maximum Clarity)
# ═══════════════════════════════════════════════════════════════════════════

# Minimum identifier character length - no single-letter vars except i, j
# Industry: 1 | Enterprise: 2 | Safety-critical: 3
min-ident-chars-threshold = 3

# Maximum single-char binding names
# Industry: 4 | Enterprise: 2 | Safety-critical: 1
single-char-binding-names-threshold = 1

# Disallowed names - enforce semantic naming
disallowed-names = [
    "foo", "bar", "baz", "quux",                    # Placeholder names
    "tmp", "temp", "test",                          # Vague temporaries
    "data", "obj", "object",                        # Generic containers
    "val", "value", "var", "variable",              # Generic values
    "a", "b", "c", "x", "y", "z",                   # Single letters (except i, j in loops)
    "thing", "stuff", "item", "elem", "element",    # Vague identifiers
    "helper", "util", "utils", "misc",              # Unclear modules
    "handle", "process", "do", "perform"            # Vague verbs
]

# Upper case acronyms - enforce consistency
upper-case-acronyms-aggressive = true

# ═══════════════════════════════════════════════════════════════════════════
# MEMORY AND PERFORMANCE (Safety-Critical)
# ═══════════════════════════════════════════════════════════════════════════

# Enum variant size difference - prevent unexpected allocations
# Industry: 200 | Enterprise: 128 | Safety-critical: 64
enum-variant-size-threshold = 64

# Maximum stack array size - prevent stack overflow
# Industry: 512KB | Enterprise: 256KB | Safety-critical: 128KB
array-size-threshold = 131072  # 128KB in bytes

# Large types passed by value threshold
# Industry: 256 | Enterprise: 128 | Safety-critical: 64
pass-by-value-size-limit = 64

# Stack frame size warning
# Industry: 16KB | Enterprise: 8KB | Safety-critical: 4KB
# (Note: Not directly configurable, but monitored via large_stack_arrays)

# ═══════════════════════════════════════════════════════════════════════════
# DOCUMENTATION (Mandatory for All Code)
# ═══════════════════════════════════════════════════════════════════════════

# Check private items documentation - enforce comprehensive docs
check-private-items = true

# Require documentation for all crate items
missing-docs-in-crate-items = true

# ═══════════════════════════════════════════════════════════════════════════
# API SAFETY AND COMPATIBILITY
# ═══════════════════════════════════════════════════════════════════════════

# Minimum supported Rust version
msrv = "1.91.0"

# Avoid breaking exported API
avoid-breaking-exported-api = true

# Allowed duplicate crates (empty = no duplicates allowed)
allowed-duplicate-crates = []

# ═══════════════════════════════════════════════════════════════════════════
# TEST CONFIGURATION (Slightly Relaxed but Still Strict)
# ═══════════════════════════════════════════════════════════════════════════

# Allow dbg! in tests only (for debugging test failures)
allow-dbg-in-tests = false  # Even in tests, use proper logging

# Allow print in tests (for test output visibility)
allow-print-in-tests = true

# Disallow unwrap even in tests (use expect with messages)
allow-unwrap-in-tests = false

# Disallow expect in tests (prefer proper error handling)
allow-expect-in-tests = false

# ═══════════════════════════════════════════════════════════════════════════
# NUMERIC SAFETY
# ═══════════════════════════════════════════════════════════════════════════

# Suppress lints for literal operations (they're compile-time safe)
suppress-restriction-lint-in-const = true

# ═══════════════════════════════════════════════════════════════════════════
# DEVELOPER NOTES
# ═══════════════════════════════════════════════════════════════════════════
#
# This configuration enforces:
# - Zero panics in production code (no unwrap, expect, panic!, todo!, etc.)
# - Complete documentation (public AND private items)
# - Minimal cognitive complexity (functions must be simple)
# - Explicit error handling (all Results must be handled)
# - Type safety (no implicit casts, indexing requires bounds checks)
# - Memory safety (no unsafe code, controlled stack usage)
# - Numeric safety (no integer overflow, division by zero)
# - String safety (no string slicing without validation)
#
# When encountering lint errors:
# 1. NEVER use #[allow(...)] without a detailed reason attribute
# 2. Refactor code to meet standards rather than suppressing
# 3. For unavoidable cases, document extensively why the exception is needed
#
# ═══════════════════════════════════════════════════════════════════════════

