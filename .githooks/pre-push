#!/usr/bin/env bash
set -euo pipefail

# Pre-push hook that runs the project's pre-push task. If Nix is available
# we'll run the command inside the devShell so native libraries are provided.
if command -v nix >/dev/null 2>&1; then
  echo "ğŸ—ï¸  Running pre-push checks inside Nix devShell (nix develop)..."
  nix develop --command just pre-push
else
  echo "âš ï¸  Nix not found; running pre-push via just (may fail if native deps missing)..."
  just pre-push
fi
